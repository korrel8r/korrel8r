# Configuration for running Korrel8r outside of an OpenShift cluster.
# Template URLs query the store host from routes provided when stores are installed in their default locations.
stores:
  - domain: k8s

  # Alert stores in openshift-monitoring
  - domain: alert
    metrics: 'https://{{k8sRouteHost "openshift-monitoring" "thanos-querier"}}'
    alertmanager: 'https://{{k8sRouteHost "openshift-monitoring" "alertmanager-main"}}'

  - domain: log
    lokiStack: 'https://{{k8sRouteHost "openshift-logging" "logging-loki"}}'
    direct: true

  - domain: metric
    metric: 'https://{{k8sRouteHost "openshift-monitoring" "thanos-querier"}}'

  - domain: netflow
    lokiStack: 'https://{{k8sRouteHost "netobserv" "loki"}}'

  - domain: trace
    tempoStack: 'https://{{k8sRouteHost "openshift-tracing" "tempo-platform-gateway"}}/api/traces/v1/platform/tempo/api/search'

  - domain: incident
    metrics: 'https://{{k8sRouteHost "openshift-monitoring" "thanos-querier"}}'

include:
  - rules/all.yaml
